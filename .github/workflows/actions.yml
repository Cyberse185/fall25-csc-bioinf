name: Github CI
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - run: echo "The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      
      - name: Check out repository code
        uses: actions/checkout@v5
        
      - uses: actions/setup-python@v6
        with:
          python-version: '3.13'
          
      - name: Install bioinformatics tools
        run: |
          sudo apt-get update
          sudo apt-get install -y \
            bwa \
            samtools \
            bcftools \
            tabix \
            wget \
            bzip2
          
          # Install minimap2
          wget https://github.com/lh3/minimap2/releases/download/v2.24/minimap2-2.24_x64-linux.tar.bz2
          tar -xjf minimap2-2.24_x64-linux.tar.bz2
          sudo cp minimap2-2.24_x64-linux/minimap2 /usr/local/bin/
          
          # Install WhatsHap
          pip install whatshap
          
      - name: Install Python dependencies
        run: |
          python -m pip install --upgrade pip
          pip install jupyter matplotlib pandas numpy
          
      - name: Week 5
        run: |
          cd week5
          jupyter execute week5.ipynb
          
     
